# 타입 시스템

## 구조적 타이핑(Structural Typing)

다른 언어들(Java, C#)이 이름으로 타입을 구분하는 **명목적 타이핑(Nominal Typing)**을 따르는 것과 달리, 타입스크립트는 타입의 구조(structure), 즉 어떤 속성(property)과 메서드(method)를 가지고 있는지로 타입을 구분한다.

**명목적 타이핑은 구조가 같아도 상속/구현 관계가 없으면 호환 불가한데, 구조적 타이핑에서는 타입의 구조(속성과 메서드 시그니처)만 맞으면 호환된다.**

구조적 타이핑이 명목적 타이핑보다 Duck Typing 철학과 잘 맞아 JS와 잘 어울리고, 유연하여 기존의 코드에도 더 잘 호환된다.

### 단점

- 의미적으로는 다르지만 구조는 같은 타입"을 구분하기 어려움.
  - 도메인 모델링이 약함
- 큰 규모 시스템에서 리스크
  - 라이브러리 간 타입 충돌이 생겨도 구조만 맞으면 호환돼 버려서 런타임에서만 문제 드러날 수 있음.

### 브랜딩 패턴

잘못된 타입끼리 호환될 수 있는 리스크가 있어 때때로 ‘브랜딩 패턴’으로 명목적 성격을 흉내 내기도 한다.
브랜딩 패턴은 모양이 같더라도 의미(라벨)가 다르면 다른 타입으로 취급하게 만든다.
`type Brand<K, T> = K & { __brand: T };`
타입정보는 컴파일 시점에만 존재하고, 런타임에서는 없는 것 주의하자.
